<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>MaplyQuadImageTilesLayer Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.2 (build 961)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">WhirlyGlobe-Maply </a></h1>
				<a id="developerHome" href="../index.html">mousebird consulting</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">MaplyQuadImageTilesLayer Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/animationPeriod">&nbsp;&nbsp;&nbsp;&nbsp;animationPeriod</option>
	
	<option value="//api/name/asyncFetching">&nbsp;&nbsp;&nbsp;&nbsp;asyncFetching</option>
	
	<option value="//api/name/color">&nbsp;&nbsp;&nbsp;&nbsp;color</option>
	
	<option value="//api/name/coverPoles">&nbsp;&nbsp;&nbsp;&nbsp;coverPoles</option>
	
	<option value="//api/name/currentImage">&nbsp;&nbsp;&nbsp;&nbsp;currentImage</option>
	
	<option value="//api/name/flipY">&nbsp;&nbsp;&nbsp;&nbsp;flipY</option>
	
	<option value="//api/name/handleEdges">&nbsp;&nbsp;&nbsp;&nbsp;handleEdges</option>
	
	<option value="//api/name/imageDepth">&nbsp;&nbsp;&nbsp;&nbsp;imageDepth</option>
	
	<option value="//api/name/imageFormat">&nbsp;&nbsp;&nbsp;&nbsp;imageFormat</option>
	
	<option value="//api/name/includeElevAttrForShader">&nbsp;&nbsp;&nbsp;&nbsp;includeElevAttrForShader</option>
	
	<option value="//api/name/maxTiles">&nbsp;&nbsp;&nbsp;&nbsp;maxTiles</option>
	
	<option value="//api/name/numSimultaneousFetches">&nbsp;&nbsp;&nbsp;&nbsp;numSimultaneousFetches</option>
	
	<option value="//api/name/requireElev">&nbsp;&nbsp;&nbsp;&nbsp;requireElev</option>
	
	<option value="//api/name/shaderProgramName">&nbsp;&nbsp;&nbsp;&nbsp;shaderProgramName</option>
	
	<option value="//api/name/texturAtlasSize">&nbsp;&nbsp;&nbsp;&nbsp;texturAtlasSize</option>
	
	<option value="//api/name/waitLoad">&nbsp;&nbsp;&nbsp;&nbsp;waitLoad</option>
	
	<option value="//api/name/waitLoadTimeout">&nbsp;&nbsp;&nbsp;&nbsp;waitLoadTimeout</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/initWithCoordSystem:tileSource:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithCoordSystem:tileSource:</option>
	
	<option value="//api/name/reload">&nbsp;&nbsp;&nbsp;&nbsp;- reload</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/animationPeriod">animationPeriod</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/asyncFetching">asyncFetching</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/color">color</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/coverPoles">coverPoles</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentImage">currentImage</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/flipY">flipY</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/handleEdges">handleEdges</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/imageDepth">imageDepth</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/imageFormat">imageFormat</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/includeElevAttrForShader">includeElevAttrForShader</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/maxTiles">maxTiles</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/numSimultaneousFetches">numSimultaneousFetches</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/requireElev">requireElev</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/shaderProgramName">shaderProgramName</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/texturAtlasSize">texturAtlasSize</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/waitLoad">waitLoad</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/waitLoadTimeout">waitLoadTimeout</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithCoordSystem:tileSource:">initWithCoordSystem:tileSource:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/reload">reload</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="MaplyQuadImageTilesLayer Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">MaplyQuadImageTilesLayer Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/MaplyViewControllerLayer.html">MaplyViewControllerLayer</a> : NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">MaplyQuadImageTilesLayer.h</td>
</tr>
						</tbody></table></div>
					
                    
                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This layer pages image pyramids.  They can be local or remote, in any coordinate system Maply supports and you provide a <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> conformant object to do the actual image tile fetching.</p><p>This is the main interface for image pyramid paging and so has a lot of knobs you can twiddle.  The defaults should work fine in most cases.</p><p>You probably don&rsquo;t have to implement your own tile source.  Go look at the <a href="../Classes/MaplyRemoteTileSource.html">MaplyRemoteTileSource</a> and <a href="../Classes/MaplyMBTileSource.html">MaplyMBTileSource</a> objects, as well as <a href="../Classes/MaplyMultiplexTileSource.html">MaplyMultiplexTileSource</a>.  Those will do remote, local, and sources for animation respectively.  There&rsquo;s also <a href="../Classes/MaplyWMSTileSource.html">MaplyWMSTileSource</a>, but I wouldn&rsquo;t expect to use that.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithCoordSystem:tileSource:">&ndash;&nbsp;initWithCoordSystem:tileSource:</a></code>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/numSimultaneousFetches">&nbsp;&nbsp;numSimultaneousFetches</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/handleEdges">&nbsp;&nbsp;handleEdges</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/coverPoles">&nbsp;&nbsp;coverPoles</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/asyncFetching">&nbsp;&nbsp;asyncFetching</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/waitLoad">&nbsp;&nbsp;waitLoad</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/waitLoadTimeout">&nbsp;&nbsp;waitLoadTimeout</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/imageDepth">&nbsp;&nbsp;imageDepth</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentImage">&nbsp;&nbsp;currentImage</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/animationPeriod">&nbsp;&nbsp;animationPeriod</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/includeElevAttrForShader">&nbsp;&nbsp;includeElevAttrForShader</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/requireElev">&nbsp;&nbsp;requireElev</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/color">&nbsp;&nbsp;color</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/maxTiles">&nbsp;&nbsp;maxTiles</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/shaderProgramName">&nbsp;&nbsp;shaderProgramName</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/texturAtlasSize">&nbsp;&nbsp;texturAtlasSize</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/imageFormat">&nbsp;&nbsp;imageFormat</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/flipY">&nbsp;&nbsp;flipY</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/reload">&ndash;&nbsp;reload</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/animationPeriod" title="animationPeriod"></a>
	<h3 class="subsubtitle method-title">animationPeriod</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The length of time we&rsquo;ll take to switch through all available images (per tile).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float animationPeriod</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If set to non-zero right after layer creation we&rsquo;ll run through all the available images (in each tile) over the given period.  This only makes sense if you&rsquo;ve got more than one image per tile.</p><p>If you want tighter control use the <a href="#//api/name/currentImage">currentImage</a> property and set your own timer.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/asyncFetching" title="asyncFetching"></a>
	<h3 class="subsubtitle method-title">asyncFetching</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Controls whether the fetching code runs in a single thread or is spawned asyncronously.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool asyncFetching</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If set, we&rsquo;ll kick off the tile fetches in their own dispatched blocks.  If not set, we&rsquo;ll just do it in the layer thread.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/color" title="color"></a>
	<h3 class="subsubtitle method-title">color</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Color for the tile geometry.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) UIColor *color</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The geometry we create for tiles has an RGBA color.  It&rsquo;s white/full alpha by default, but you can set it here.  You might want to do this if you&rsquo;d like a semi-transparent layer, sort of a shader of course, where you can do whatever you like.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/coverPoles" title="coverPoles"></a>
	<h3 class="subsubtitle method-title">coverPoles</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Generate pole geometry for projections that don&rsquo;t go all the way to the poles.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool coverPoles</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This is for spherical mercator with web extents.  That projection doesn&rsquo;t run all the way to the poles, but it gets fairly close.  If set, we close that gap for the north and south poles and generate the remaining geometry.</p><p>We&rsquo;ll pull a texture value from the edge of the images, so build your texture accordingly.  A nice flat <a href="#//api/name/color">color</a> along the north and south border is the best idea.  If not, it&rsquo;ll look a little odd, but still okay.</p><p>Though this is designed for <a href="../Classes/MaplySphericalMercator.html">MaplySphericalMercator</a>, it may work in similar projections.  It&rsquo;s not going to make any sense for, say UTM, but give it a try.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/currentImage" title="currentImage"></a>
	<h3 class="subsubtitle method-title">currentImage</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Set the current image we&rsquo;re displaying.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float currentImage</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This sets the current image being displayed, and interpolates between it and the next image.  If set to an integer value, you&rsquo;ll get just that image.  If set to a value between integers, you&rsquo;ll get a blend of the two.</p><p>This is incompatible with setting an <a href="#//api/name/animationPeriod">animationPeriod</a>.  Do just one or the other.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/flipY" title="flipY"></a>
	<h3 class="subsubtitle method-title">flipY</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Control how tiles are indexed, either from the lower left or the upper left.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) bool flipY</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If set, we&rsquo;ll use the OSM approach (also Google Maps) to y indexing.  That&rsquo;s that default and it&rsquo;s normally what you&rsquo;re run into.</p><p>Strictly speaking, TMS addressing (the standard) is flipped the other way.  So if you&rsquo;re tile source looks odd, try setting this to false.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/handleEdges" title="handleEdges"></a>
	<h3 class="subsubtitle method-title">handleEdges</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>If set, we&rsquo;ll generate skirts between different levels of details on the globe.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool handleEdges</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This option makes zero sense in 2D mode, some sense if 3D map mode (if you&rsquo;re doing elevation) and a lot of sense in globe mode.  What it does is generate skirts along the sides of each tile so you can&rsquo;t see between that tile and the next one when it abuts a different level of detail.</p><p>Best to set this explicitly.  For a base map (e.g. the first image layer you put down), it should probably be set.  For following layers it should probably not, but specifics can change.  Try it out.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/imageDepth" title="imageDepth"></a>
	<h3 class="subsubtitle method-title">imageDepth</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The number of images we&rsquo;re expecting to get per tile.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) unsigned int imageDepth</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This is the number of images the layer will ask for per tile.  The default is 1, which is the normal case.  If this is greater than one that typically means we&rsquo;re going to animate between them.</p><p>the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> delegate is always expected to provide this many imates.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/imageFormat" title="imageFormat"></a>
	<h3 class="subsubtitle method-title">imageFormat</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Set the image format for the texture atlases (thus the imagery).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) MaplyQuadImageFormat imageFormat</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>OpenGL ES offers us several image formats that are more efficient than 32 bit RGBA, but they&rsquo;re not always appropriate.  This property lets you choose one of them.  The 16 or 8 bit ones can save a huge amount of space and will work well for some imagery, most maps, and a lot of weather overlays.</p><p>Be sure to set this at layer creation, it won&rsquo;t do anything later on.</p>

<table>
<thead>
<tr>
<th align="left"> Image Format </th>
<th align="left"> Description </th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"> MaplyImageIntRGBA </td>
<td align="left"> 32 bit RGBA with 8 bits per channel.  The default. </td>
</tr>
<tr>
<td align="left"> MaplyImageUShort565 </td>
<td align="left"> 16 bits with 5/6/5 for RGB and none for A. </td>
</tr>
<tr>
<td align="left"> MaplyImageUShort4444 </td>
<td align="left"> 16 bits with 4 bits for each channel. </td>
</tr>
<tr>
<td align="left"> MaplyImageUShort5551 </td>
<td align="left"> 16 bits with 5/5/5 bits for RGB and 1 bit for A. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteRed </td>
<td align="left"> 8 bits, where we choose the R and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteGreen </td>
<td align="left"> 8 bits, where we choose the G and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteBlue </td>
<td align="left"> 8 bits, where we choose the B and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteAlpha </td>
<td align="left"> 8 bits, where we choose the A and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteRGB </td>
<td align="left"> 8 bits, where we average RGB for the value. </td>
</tr>
<tr>
<td align="left"> MaplyImage4Layer8Bit </td>
<td align="left"> 32 bits, four channels of 8 bits each.  Just like MaplyImageIntRGBA, but a warning not to do anything too clever in sampling. </td>
</tr>
</tbody>
</table>

	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/includeElevAttrForShader" title="includeElevAttrForShader"></a>
	<h3 class="subsubtitle method-title">includeElevAttrForShader</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Include the original z values in the tile geometry for a custom shader.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool includeElevAttrForShader</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>When generating tiles for the globe we project the coordinates from their local system (probably <a href="../Classes/MaplySphericalMercator.html">MaplySphericalMercator</a>) into a display system.  If you wanted the original z values, to say, write a custom shader that maps <a href="#//api/name/color">color</a> to elevation, that data is now missing.</p><p>If set, this adds the z values back as a separate vertex attribute called &ldquo;a_elev&rdquo; for your shader to pick up.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/maxTiles" title="maxTiles"></a>
	<h3 class="subsubtitle method-title">maxTiles</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Maximum number of tiles to load in at once.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) int maxTiles</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This is the maximum number of tiles the pager will have loaded into memory at once.  The default is 128 and that&rsquo;s generally good enough.  However, if your tile size is small, you may want to load in more.</p><p>Tile loading can get out of control when using elevation data.  The toolkit calculates potential sceen coverage for each tile so elevation data makes all tiles more important.  As a result the system will happily page in way more data than you may want.  The limit becomes important in elevation mode, so leave it at 128 unless you need to change it.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/numSimultaneousFetches" title="numSimultaneousFetches"></a>
	<h3 class="subsubtitle method-title">numSimultaneousFetches</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The number of simultaneous fetches the layer will attempt at once.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) int numSimultaneousFetches</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The toolkit loves its dispatch queues and threads.  By default this number is set to 8 or 16, but if you need to constrain it, you can set it lower (or higher!).  If your tile source can&rsquo;t handle multi-thread access, set this to 1.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/requireElev" title="requireElev"></a>
	<h3 class="subsubtitle method-title">requireElev</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Requires an elevation chunk for every tile we display.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool requireElev</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Elevation data is optional on the globe or map.  If it exists, via the MaplyElevationSource delegate on the view controller, then we&rsquo;ll use it to construct the tile.  This property requires elevation for any tile we display.</p><p>What this does is prevent flat tiles from showing up if there&rsquo;s more imagery than elevation.</p><p>We do make a distinction between missing tiles and tiles that are simply flat (at zero) in the <a href="../Classes/MaplyElevationDatabase.html">MaplyElevationDatabase</a>, so ocean will work correctly.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/shaderProgramName" title="shaderProgramName"></a>
	<h3 class="subsubtitle method-title">shaderProgramName</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Set the shader name to use for generated tiles.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) NSString *shaderProgramName</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Shader programs are accessed by name.  When you create a shader and tie it into the scene, you&rsquo;ll have the name.  Use that name here to ensure that all tiles are rendered with that <a href="../Classes/MaplyShader.html">MaplyShader</a>.</p><p>Be sure to set this immediately after layer creation.  It can&rsquo;t be changed in the middle.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/texturAtlasSize" title="texturAtlasSize"></a>
	<h3 class="subsubtitle method-title">texturAtlasSize</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Set the (power of two) size of texture atlases the layer will create.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic) unsigned int texturAtlasSize</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The system makes extensive use of texture atlases for rendering tiles.  Typically we&rsquo;ll only have one or two gigantic textures will all our imagery and a handfull of drawables.  This is what makes the system fast.  Very fast.</p><p>This option controls the size of those texture atlases.  It&rsquo;s set to 2048 by default (2048x2048 texels).  If you&rsquo;re going to change it, set it to 1024, but don&rsquo;t go any lower unless you know something we don&rsquo;t.  It must always be a power of 2.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/waitLoad" title="waitLoad"></a>
	<h3 class="subsubtitle method-title">waitLoad</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Have the layer wait until all local tiles are loaded before updating the renderer.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool waitLoad</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This will have the layer sit on updates until all the local tiles are in.  You won&rsquo;t see the lower levels loading in.  See <a href="#//api/name/waitLoadTimeout">waitLoadTimeout</a>.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/waitLoadTimeout" title="waitLoadTimeout"></a>
	<h3 class="subsubtitle method-title">waitLoadTimeout</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The timeout for wait loads.  We can&rsquo;t wait longer than this for local updates to come back.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSTimeInterval waitLoadTimeout</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If <a href="#//api/name/waitLoad">waitLoad</a> is on, this is the maximum time we&rsquo;ll wait for local tile fetches to complete.  There&rsquo;s a limit to the volume of scene changes we can let build up int he queue before we have to flush them.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/initWithCoordSystem:tileSource:" title="initWithCoordSystem:tileSource:"></a>
	<h3 class="subsubtitle method-title">initWithCoordSystem:tileSource:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initialize with a coordinate system for the image pyramid and the tile source object.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithCoordSystem:(MaplyCoordinateSystem *)<em>coordSys</em> tileSource:(NSObject&lt;MaplyTileSource&gt; *)<em>tileSource</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>coordSys</em></dt>
			<dd><p>The coordinate system. This must match what your
            image pyramid is in, or it will look weird.  Very weird.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>tileSource</em></dt>
			<dd><p>This is an object conforming to the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> protocol.  There are several you can pass in, or you can write your own.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The initialize expects a coordinate system (probably <a href="../Classes/MaplySphericalMercator.html">MaplySphericalMercator</a>) and a tile source.  The tile source can be one of the standard ones listed above, or it can be one of your own that conforms to the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> protocol.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/reload" title="reload"></a>
	<h3 class="subsubtitle method-title">reload</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Force a full reload of all tiles.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)reload</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This will notify the system to flush out all the existing tiles and start reloading from the top.  If everything is cached locally (and the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> objects say so) then this should appear instantly.  If something needs to be fetched or it&rsquo;s taking too long, you&rsquo;ll see these page in from the low to the high level.</p><p>This is good for tile sources, like weather, that need to be refreshed every so often.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
                    
                    
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 mousebird consulting. All rights reserved. (Last updated: 2013-10-04)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2 (build 961)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>