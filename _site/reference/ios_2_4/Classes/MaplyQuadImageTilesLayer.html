<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>MaplyQuadImageTilesLayer Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1333)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">WhirlyGlobe-Maply </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">mousebird consulting inc</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/allowFrameLoading">allowFrameLoading</option>
		
		<option value="//api/name/animationPeriod">animationPeriod</option>
		
		<option value="//api/name/animationWrap">animationWrap</option>
		
		<option value="//api/name/asyncFetching">asyncFetching</option>
		
		<option value="//api/name/borderTexel">borderTexel</option>
		
		<option value="//api/name/color">color</option>
		
		<option value="//api/name/coverPoles">coverPoles</option>
		
		<option value="//api/name/currentImage">currentImage</option>
		
		<option value="//api/name/enable">enable</option>
		
		<option value="//api/name/fade">fade</option>
		
		<option value="//api/name/flipY">flipY</option>
		
		<option value="//api/name/handleEdges">handleEdges</option>
		
		<option value="//api/name/imageDepth">imageDepth</option>
		
		<option value="//api/name/imageFormat">imageFormat</option>
		
		<option value="//api/name/importanceScale">importanceScale</option>
		
		<option value="//api/name/includeElevAttrForShader">includeElevAttrForShader</option>
		
		<option value="//api/name/maxCurrentImage">maxCurrentImage</option>
		
		<option value="//api/name/maxTiles">maxTiles</option>
		
		<option value="//api/name/maxVis">maxVis</option>
		
		<option value="//api/name/minUpdateDist">minUpdateDist</option>
		
		<option value="//api/name/minVis">minVis</option>
		
		<option value="//api/name/multiLevelLoads">multiLevelLoads</option>
		
		<option value="//api/name/numSimultaneousFetches">numSimultaneousFetches</option>
		
		<option value="//api/name/requireElev">requireElev</option>
		
		<option value="//api/name/shaderProgramName">shaderProgramName</option>
		
		<option value="//api/name/singleLevelLoading">singleLevelLoading</option>
		
		<option value="//api/name/texturAtlasSize">texturAtlasSize</option>
		
		<option value="//api/name/tileSource">tileSource</option>
		
		<option value="//api/name/useElevAsZ">useElevAsZ</option>
		
		<option value="//api/name/useTargetZoomLevel">useTargetZoomLevel</option>
		
		<option value="//api/name/viewUpdatePeriod">viewUpdatePeriod</option>
		
		<option value="//api/name/waitLoad">waitLoad</option>
		
		<option value="//api/name/waitLoadTimeout">waitLoadTimeout</option>
		
	</optgroup>
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/boundsForTile:bbox:">- boundsForTile:bbox:</option>
		
		<option value="//api/name/cleanupLayers:scene:">- cleanupLayers:scene:</option>
		
		<option value="//api/name/geoBoundsForTile:bbox:">- geoBoundsForTile:bbox:</option>
		
		<option value="//api/name/initWithCoordSystem:tileSource:">- initWithCoordSystem:tileSource:</option>
		
		<option value="//api/name/loadError:forTile:">- loadError:forTile:</option>
		
		<option value="//api/name/loadError:forTile:frame:">- loadError:forTile:frame:</option>
		
		<option value="//api/name/loadedFrames">- loadedFrames</option>
		
		<option value="//api/name/loadedImages:forTile:">- loadedImages:forTile:</option>
		
		<option value="//api/name/loadedImages:forTile:frame:">- loadedImages:forTile:frame:</option>
		
		<option value="//api/name/reload">- reload</option>
		
		<option value="//api/name/reset">- reset</option>
		
		<option value="//api/name/setFrameLoadingPriority:">- setFrameLoadingPriority:</option>
		
		<option value="//api/name/setTesselationValues:">- setTesselationValues:</option>
		
		<option value="//api/name/startLayer:scene:renderer:viewC:">- startLayer:scene:renderer:viewC:</option>
		
		<option value="//api/name/targetZoomLevel">- targetZoomLevel</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">MaplyQuadImageTilesLayer Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td><a href="../Classes/MaplyViewControllerLayer.html">MaplyViewControllerLayer</a> : NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>MaplyQuadImageTilesLayer.h</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This layer pages image pyramids.  They can be local or remote, in any coordinate system Maply supports and you provide a <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> conformant object to do the actual image tile fetching.</p><p>This is the main interface for image pyramid paging and so has a lot of knobs you can twiddle.  The defaults should work fine in most cases.</p><p>You probably don&rsquo;t have to implement your own tile source.  Go look at the <a href="../Classes/MaplyRemoteTileSource.html">MaplyRemoteTileSource</a> and <a href="../Classes/MaplyMBTileSource.html">MaplyMBTileSource</a> objects, as well as <a href="../Classes/MaplyMultiplexTileSource.html">MaplyMultiplexTileSource</a>.  Those will do remote, local, and sources for animation respectively.  There&rsquo;s also <a href="../Classes/MaplyWMSTileSource.html">MaplyWMSTileSource</a>, but I wouldn&rsquo;t expect to use that.</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/initWithCoordSystem:tileSource:" title="initWithCoordSystem:tileSource:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithCoordSystem:tileSource:">&ndash;&nbsp;initWithCoordSystem:tileSource:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initialize with a coordinate system for the image pyramid and the tile source object.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (id)initWithCoordSystem:(MaplyCoordinateSystem *)<em>coordSys</em> tileSource:(NSObject&lt;MaplyTileSource&gt; *)<em>tileSource</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>coordSys</code></th>
						<td><p>The coordinate system. This must match what your
            image pyramid is in, or it will look weird.  Very weird.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>tileSource</code></th>
						<td><p>This is an object conforming to the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> protocol.  There are several you can pass in, or you can write your own.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The initialize expects a coordinate system (probably <a href="../Classes/MaplySphericalMercator.html">MaplySphericalMercator</a>) and a tile source.  The tile source can be one of the standard ones listed above, or it can be one of your own that conforms to the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> protocol.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/tileSource" title="tileSource"></a>
	<h3 class="method-title"><code><a href="#//api/name/tileSource">&nbsp;&nbsp;tileSource</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the active tile source.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSObject&lt;MaplyTileSource&gt; *tileSource</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If you change this, it will force a <a href="#//api/name/reload">reload</a> of all loaded tiles and start fetching from the new tile source.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/enable" title="enable"></a>
	<h3 class="method-title"><code><a href="#//api/name/enable">&nbsp;&nbsp;enable</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Enable/Disable the whole layer.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool enable</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>By default this is on.  If you turn it off, there may be a slight delay before the whole layer disappears.  The layer will keep working, but any geometry will be invisible until you turn it back on.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/fade" title="fade"></a>
	<h3 class="method-title"><code><a href="#//api/name/fade">&nbsp;&nbsp;fade</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the fade for the whole layer.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float fade</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>By default this is 1.0.  The fade values can be changed while the layer is running.  It will blend the layer with the fade value when rendering.  A value of 0.0 will stop rendering the layer.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/numSimultaneousFetches" title="numSimultaneousFetches"></a>
	<h3 class="method-title"><code><a href="#//api/name/numSimultaneousFetches">&nbsp;&nbsp;numSimultaneousFetches</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The number of simultaneous fetches the layer will attempt at once.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) int numSimultaneousFetches</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The toolkit loves its dispatch queues and threads.  By default this number is set to 8 or 16, but if you need to constrain it, you can set it lower (or higher!).  If your tile source can&rsquo;t handle multi-thread access, set this to 1.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/handleEdges" title="handleEdges"></a>
	<h3 class="method-title"><code><a href="#//api/name/handleEdges">&nbsp;&nbsp;handleEdges</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>If set, we&rsquo;ll generate skirts between different levels of details on the globe.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool handleEdges</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This option makes zero sense in 2D mode, some sense if 3D map mode (if you&rsquo;re doing elevation) and a lot of sense in globe mode.  What it does is generate skirts along the sides of each tile so you can&rsquo;t see between that tile and the next one when it abuts a different level of detail.</p><p>Best to set this explicitly.  For a base map (e.g. the first image layer you put down), it should probably be set.  For following layers it should probably not, but specifics can change.  Try it out.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/coverPoles" title="coverPoles"></a>
	<h3 class="method-title"><code><a href="#//api/name/coverPoles">&nbsp;&nbsp;coverPoles</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Generate pole geometry for projections that don&rsquo;t go all the way to the poles.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool coverPoles</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This is for spherical mercator with web extents.  That projection doesn&rsquo;t run all the way to the poles, but it gets fairly close.  If set, we close that gap for the north and south poles and generate the remaining geometry.</p><p>We&rsquo;ll pull a texture value from the edge of the images, so build your texture accordingly.  A nice flat <a href="#//api/name/color">color</a> along the north and south border is the best idea.  If not, it&rsquo;ll look a little odd, but still okay.</p><p>Though this is designed for <a href="../Classes/MaplySphericalMercator.html">MaplySphericalMercator</a>, it may work in similar projections.  It&rsquo;s not going to make any sense for, say UTM, but give it a try.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/minVis" title="minVis"></a>
	<h3 class="method-title"><code><a href="#//api/name/minVis">&nbsp;&nbsp;minVis</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the minimum viewer height the layer will be visible at.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float minVis</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This is off by default.  When on the layer will not be visible unless the viewer is above this height.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/maxVis" title="maxVis"></a>
	<h3 class="method-title"><code><a href="#//api/name/maxVis">&nbsp;&nbsp;maxVis</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the maximum viewer height the layer will be visible at.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float maxVis</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This is off by default.  When on the layer will not be visible unless the viewer is below this height.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/asyncFetching" title="asyncFetching"></a>
	<h3 class="method-title"><code><a href="#//api/name/asyncFetching">&nbsp;&nbsp;asyncFetching</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Controls whether the fetching code runs in a single thread or is spawned asyncronously.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool asyncFetching</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If set, we&rsquo;ll kick off the tile fetches in their own dispatched blocks.  If not set, we&rsquo;ll just do it in the layer thread.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/viewUpdatePeriod" title="viewUpdatePeriod"></a>
	<h3 class="method-title"><code><a href="#//api/name/viewUpdatePeriod">&nbsp;&nbsp;viewUpdatePeriod</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the minimum time for an update based on the viewer&rsquo;s location and orientation.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSTimeInterval viewUpdatePeriod</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Paging layers watch the viewer to see what it&rsquo;s up to.  When the viewer moves, the layer updates its contents accordingly.  However, the viewer can be moving constantly so we need a way to keep things under control.</p><p>This value (in seconds) specifies the minimum time between updates.  In other words, we won&rsquo;t recalculate things more often than this.  Default value is 1/10s.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/minUpdateDist" title="minUpdateDist"></a>
	<h3 class="method-title"><code><a href="#//api/name/minUpdateDist">&nbsp;&nbsp;minUpdateDist</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the minimum movement for an update based on the viewer&rsquo;s location.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float minUpdateDist</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This is useful for throttling layer updates based on how far a viewer moves.  This will only kick off a view update if the viewer moves the given distance (in display coordinates).</p><p>We do not take orientation into account here, so you&rsquo;d probably be better looking straight down.  Default is off.</p><p>I suggest not using this unless you&rsquo;ve already run into the problem this solves.  Specifically that&rsquo;s where you&rsquo;ve moving constantly, but in small increments and are burning too much CPU.</p>
			</div>
			

			

			
			<div class="method-subsection see-also-section">
				<h4 class="method-subtitle">See Also</h4>
				<ul>
					
					<li><code><p><a href="#//api/name/viewUpdatePeriod">@property viewUpdatePeriod</a></p></code></li>
					
				</ul>
			</div>
			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/waitLoad" title="waitLoad"></a>
	<h3 class="method-title"><code><a href="#//api/name/waitLoad">&nbsp;&nbsp;waitLoad</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Have the layer wait until all local tiles are loaded before updating the renderer.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool waitLoad</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This will have the layer sit on updates until all the local tiles are in.  You won&rsquo;t see the lower levels loading in.  See <a href="#//api/name/waitLoadTimeout">waitLoadTimeout</a>.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/waitLoadTimeout" title="waitLoadTimeout"></a>
	<h3 class="method-title"><code><a href="#//api/name/waitLoadTimeout">&nbsp;&nbsp;waitLoadTimeout</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The timeout for wait loads.  We can&rsquo;t wait longer than this for local updates to come back.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSTimeInterval waitLoadTimeout</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If <a href="#//api/name/waitLoad">waitLoad</a> is on, this is the maximum time we&rsquo;ll wait for local tile fetches to complete.  There&rsquo;s a limit to the volume of scene changes we can let build up int he queue before we have to flush them.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/imageDepth" title="imageDepth"></a>
	<h3 class="method-title"><code><a href="#//api/name/imageDepth">&nbsp;&nbsp;imageDepth</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The number of images we&rsquo;re expecting to get per tile.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) unsigned int imageDepth</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This is the number of images the layer will ask for per tile.  The default is 1, which is the normal case.  If this is greater than one that typically means we&rsquo;re going to animate between them.</p><p>the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> delegate is always expected to provide this many imates.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/currentImage" title="currentImage"></a>
	<h3 class="method-title"><code><a href="#//api/name/currentImage">&nbsp;&nbsp;currentImage</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the current image we&rsquo;re displaying.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float currentImage</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This sets the current image being displayed, and interpolates between it and the next image.  If set to an integer value, you&rsquo;ll get just that image.  If set to a value between integers, you&rsquo;ll get a blend of the two.</p><p>This is incompatible with setting an <a href="#//api/name/animationPeriod">animationPeriod</a>.  Do just one or the other.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/maxCurrentImage" title="maxCurrentImage"></a>
	<h3 class="method-title"><code><a href="#//api/name/maxCurrentImage">&nbsp;&nbsp;maxCurrentImage</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>If set, we&rsquo;ll use this as the maximum current image value when animating.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float maxCurrentImage</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>By default this is off (-1).  When it&rsquo;s on, we&rsquo;ll consider this the last valid value for <a href="#//api/name/currentImage">currentImage</a>.  This means, when animating, we&rsquo;ll run from 0 to maxCurrentImage.</p><p>This is helpful when you have an animation you want to taper off at the end past the last frame.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/animationPeriod" title="animationPeriod"></a>
	<h3 class="method-title"><code><a href="#//api/name/animationPeriod">&nbsp;&nbsp;animationPeriod</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The length of time we&rsquo;ll take to switch through all available images (per tile).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) float animationPeriod</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If set to non-zero right after layer creation we&rsquo;ll run through all the available images (in each tile) over the given period.  This only makes sense if you&rsquo;ve got more than one image per tile.</p><p>If you want tighter control use the <a href="#//api/name/currentImage">currentImage</a> property and set your own timer.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/animationWrap" title="animationWrap"></a>
	<h3 class="method-title"><code><a href="#//api/name/animationWrap">&nbsp;&nbsp;animationWrap</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>If set to true, we&rsquo;ll consider the list of images for each tile to be circular when we animate.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool animationWrap</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When set we&rsquo;ll loop back to the first image when we go past the last.  This is the default.</p><p>When not set, we&rsquo;ll run from 0 to <a href="#//api/name/maxCurrentImage">maxCurrentImage</a> and then restart.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/allowFrameLoading" title="allowFrameLoading"></a>
	<h3 class="method-title"><code><a href="#//api/name/allowFrameLoading">&nbsp;&nbsp;allowFrameLoading</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>If set, we&rsquo;ll try to fetch frames individually.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool allowFrameLoading</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When fetching from a data source that has multiple frames we&rsquo;ll fetch each frame individually and allow them to display as we go.</p><p>If this is false, we&rsquo;ll force all the frames to load for a given tile before we move on to the next tile.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/setFrameLoadingPriority:" title="setFrameLoadingPriority:"></a>
	<h3 class="method-title"><code><a href="#//api/name/setFrameLoadingPriority:">&ndash;&nbsp;setFrameLoadingPriority:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>For the case where we&rsquo;re loading individual frames, this sets the order to load them in.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)setFrameLoadingPriority:(NSArray *)<em>priorities</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When doing animation and loading frames, we have the option of loading them one by one.  Normally we start from 0 and work our way up, but you can control that order here.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/includeElevAttrForShader" title="includeElevAttrForShader"></a>
	<h3 class="method-title"><code><a href="#//api/name/includeElevAttrForShader">&nbsp;&nbsp;includeElevAttrForShader</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Include the original z values in the tile geometry for a custom shader.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool includeElevAttrForShader</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When generating tiles for the globe we project the coordinates from their local system (probably <a href="../Classes/MaplySphericalMercator.html">MaplySphericalMercator</a>) into a display system.  If you wanted the original z values, to say, write a custom shader that maps <a href="#//api/name/color">color</a> to elevation, that data is now missing.</p><p>If set, this adds the z values back as a separate vertex attribute called &ldquo;a_elev&rdquo; for your shader to pick up.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/useElevAsZ" title="useElevAsZ"></a>
	<h3 class="method-title"><code><a href="#//api/name/useElevAsZ">&nbsp;&nbsp;useElevAsZ</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>If true we&rsquo;ll actuall use the elevation values to modify the mesh.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool useElevAsZ</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When this is on we&rsquo;ll modify the mesh to actually use elevation values passed in through the elevation delegate. On is the default, logically enough.</p><p>Why would you ever turn it off?  If you wanted a flat (or curved for the globe) mesh with elevation values in their seperate attribute array.  You might want a shading effect rather than actual geometry.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/requireElev" title="requireElev"></a>
	<h3 class="method-title"><code><a href="#//api/name/requireElev">&nbsp;&nbsp;requireElev</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Requires an elevation chunk for every tile we display.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) bool requireElev</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Elevation data is optional on the globe or map.  If it exists, via the MaplyElevationSource delegate on the view controller, then we&rsquo;ll use it to construct the tile.  This property requires elevation for any tile we display.</p><p>What this does is prevent flat tiles from showing up if there&rsquo;s more imagery than elevation.</p><p>We do make a distinction between missing tiles and tiles that are simply flat (at zero) in the <a href="../Classes/MaplyElevationDatabase.html">MaplyElevationDatabase</a>, so ocean will work correctly.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/color" title="color"></a>
	<h3 class="method-title"><code><a href="#//api/name/color">&nbsp;&nbsp;color</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Color for the tile geometry.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) UIColor *color</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The geometry we create for tiles has an RGBA color.  It&rsquo;s white/full alpha by default, but you can set it here.  You might want to do this if you&rsquo;d like a semi-transparent layer, sort of a shader of course, where you can do whatever you like.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/maxTiles" title="maxTiles"></a>
	<h3 class="method-title"><code><a href="#//api/name/maxTiles">&nbsp;&nbsp;maxTiles</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Maximum number of tiles to load in at once.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) int maxTiles</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This is the maximum number of tiles the pager will have loaded into memory at once.  The default is 128 and that&rsquo;s generally good enough.  However, if your tile size is small, you may want to load in more.</p><p>Tile loading can get out of control when using elevation data.  The toolkit calculates potential sceen coverage for each tile so elevation data makes all tiles more important.  As a result the system will happily page in way more data than you may want.  The limit becomes important in elevation mode, so leave it at 128 unless you need to change it.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/importanceScale" title="importanceScale"></a>
	<h3 class="method-title"><code><a href="#//api/name/importanceScale">&nbsp;&nbsp;importanceScale</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Tinker with the importance for tiles.  This will cause more or fewer tiles to load</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) float importanceScale</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The system calculates an importance for each tile based on its size and location on the screen.  You can mess with those values here.</p><p>Any value less than 1.0 will make the tiles less important.  Any value greater than 1.0 will make tiles more important.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/shaderProgramName" title="shaderProgramName"></a>
	<h3 class="method-title"><code><a href="#//api/name/shaderProgramName">&nbsp;&nbsp;shaderProgramName</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the shader name to use for generated tiles.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSString *shaderProgramName</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Shader programs are accessed by name.  When you create a shader and tie it into the scene, you&rsquo;ll have the name.  Use that name here to ensure that all tiles are rendered with that <a href="../Classes/MaplyShader.html">MaplyShader</a>.</p><p>Be sure to set this immediately after layer creation.  It can&rsquo;t be changed in the middle.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/texturAtlasSize" title="texturAtlasSize"></a>
	<h3 class="method-title"><code><a href="#//api/name/texturAtlasSize">&nbsp;&nbsp;texturAtlasSize</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the (power of two) size of texture atlases the layer will create.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) unsigned int texturAtlasSize</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The system makes extensive use of texture atlases for rendering tiles.  Typically we&rsquo;ll only have one or two gigantic textures will all our imagery and a handfull of drawables.  This is what makes the system fast.  Very fast.</p><p>This option controls the size of those texture atlases.  It&rsquo;s set to 2048 by default (2048x2048 texels).  If you&rsquo;re going to change it, set it to 1024, but don&rsquo;t go any lower unless you know something we don&rsquo;t.  It must always be a power of 2.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/imageFormat" title="imageFormat"></a>
	<h3 class="method-title"><code><a href="#//api/name/imageFormat">&nbsp;&nbsp;imageFormat</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the image format for the texture atlases (thus the imagery).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) MaplyQuadImageFormat imageFormat</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>OpenGL ES offers us several image formats that are more efficient than 32 bit RGBA, but they&rsquo;re not always appropriate.  This property lets you choose one of them.  The 16 or 8 bit ones can save a huge amount of space and will work well for some imagery, most maps, and a lot of weather overlays.</p><p>Be sure to set this at layer creation, it won&rsquo;t do anything later on.</p>

<table>
<thead>
<tr>
<th align="left"> Image Format </th>
<th align="left"> Description </th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"> MaplyImageIntRGBA </td>
<td align="left"> 32 bit RGBA with 8 bits per channel.  The default. </td>
</tr>
<tr>
<td align="left"> MaplyImageUShort565 </td>
<td align="left"> 16 bits with 5/6/5 for RGB and none for A. </td>
</tr>
<tr>
<td align="left"> MaplyImageUShort4444 </td>
<td align="left"> 16 bits with 4 bits for each channel. </td>
</tr>
<tr>
<td align="left"> MaplyImageUShort5551 </td>
<td align="left"> 16 bits with 5/5/5 bits for RGB and 1 bit for A. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteRed </td>
<td align="left"> 8 bits, where we choose the R and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteGreen </td>
<td align="left"> 8 bits, where we choose the G and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteBlue </td>
<td align="left"> 8 bits, where we choose the B and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteAlpha </td>
<td align="left"> 8 bits, where we choose the A and ignore the rest. </td>
</tr>
<tr>
<td align="left"> MaplyImageUByteRGB </td>
<td align="left"> 8 bits, where we average RGB for the value. </td>
</tr>
<tr>
<td align="left"> MaplyImage4Layer8Bit </td>
<td align="left"> 32 bits, four channels of 8 bits each.  Just like MaplyImageIntRGBA, but a warning not to do anything too clever in sampling. </td>
</tr>
</tbody>
</table>

			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/borderTexel" title="borderTexel"></a>
	<h3 class="method-title"><code><a href="#//api/name/borderTexel">&nbsp;&nbsp;borderTexel</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Number of border texels to set up around image tiles.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) int borderTexel</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>For matching image tiles along borders in 3D (probably the globe) we resample the image slightly smaller than we get and make up a boundary around the outside.  This number controls that border size.</p><p>By default this is 1.  It&rsquo;s safe to set it to 0 for 2D maps and some overalys.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/flipY" title="flipY"></a>
	<h3 class="method-title"><code><a href="#//api/name/flipY">&nbsp;&nbsp;flipY</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Control how tiles are indexed, either from the lower left or the upper left.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) bool flipY</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If set, we&rsquo;ll use the OSM approach (also Google Maps) to y indexing.  That&rsquo;s that default and it&rsquo;s normally what you&rsquo;re run into.</p><p>Strictly speaking, TMS addressing (the standard) is flipped the other way.  So if you&rsquo;re tile source looks odd, try setting this to false.</p><p>Default value is true.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/useTargetZoomLevel" title="useTargetZoomLevel"></a>
	<h3 class="method-title"><code><a href="#//api/name/useTargetZoomLevel">&nbsp;&nbsp;useTargetZoomLevel</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Use the target zoom level shortcut when possible.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) bool useTargetZoomLevel</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This turns on the target zoom level shortcut as described in <a href="#//api/name/targetZoomLevel">targetZoomLevel</a>.  When on we&rsquo;ll calculate tile importance that way, that is based on a target zoom level rather than the more complex screen space calculations.</p><p>It&rsquo;s on by default and will activate only when this layer&rsquo;s coordinate system is the same as the display system and there&rsquo;s no view matrix (e.g. tilt) set.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/singleLevelLoading" title="singleLevelLoading"></a>
	<h3 class="method-title"><code><a href="#//api/name/singleLevelLoading">&nbsp;&nbsp;singleLevelLoading</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Only load a single level at a time.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic) bool singleLevelLoading</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When set, we&rsquo;ll only load one level of tiles at once.  This is very efficient for memory and fast for loading, but you&rsquo;ll see flashing as you move between levels.</p><p>This mode only works with flat maps and is off by default.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/multiLevelLoads" title="multiLevelLoads"></a>
	<h3 class="method-title"><code><a href="#//api/name/multiLevelLoads">&nbsp;&nbsp;multiLevelLoads</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Detail the levels you want loaded in target level mode.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSArray *multiLevelLoads</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The image display can work in one of two modes, quad tree where it loads everything starting from the min level or a target level mode where it just tries to load one or more target levels.  This is the array that controls which levels it will try to load.</p><p>We do this so that the user doesn&rsquo;t have to wait for the target level to load.  This can be distracting on large displays with small tiles.  If you use this mode, the layer will load lower levels first, filling in quicker and then load the target level.  This looks much better, but doesn&rsquo;t take as long as the full quad tree based loading.</p><p>The layer calculates the optimal target level (for 2D maps, if you&rsquo;re in that mode).  The entries in this array are relative to that level or absolute.  For example [0,-4,-2] means the layer will always try to load levels 0, targetLevel-4 and targetLevel-2, but only the latter two if they make sense.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/targetZoomLevel" title="targetZoomLevel"></a>
	<h3 class="method-title"><code><a href="#//api/name/targetZoomLevel">&ndash;&nbsp;targetZoomLevel</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The target zoom level for this layer given the current view settings.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (int)targetZoomLevel</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Calculates the target zoom level for the middle of the screen.</p><p>This only makes sense for flat maps that use the same coordinate system we&rsquo;re using in this tile source.  In addition, the viewer can&rsquo;t have a tilt or any non-2D transform in the view matrix.  If it does, this is meaningless, but it&rsquo;ll return a number anyway.</p><p>If all those conditions are met then we can say we&rsquo;re only displaying a single zoom level and this is that.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/setTesselationValues:" title="setTesselationValues:"></a>
	<h3 class="method-title"><code><a href="#//api/name/setTesselationValues:">&ndash;&nbsp;setTesselationValues:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Set the number of samples for each tile per level.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)setTesselationValues:(NSDictionary *)<em>tessDict</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>When sampling the globe without an elevation input, we&rsquo;ll divide each tile into a given number of samples.  By default this is 10x10.  Setting this dictionary will let you control that sampling per level.</p><p>Each entry in the dictionary is an NSNumber for the level (-1 for default).  The corresponding value is an NSNumber for the sampling (e.g. 10).</p><p>Call this immediately after setting up the layer or it won&rsquo;t take effect.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/reload" title="reload"></a>
	<h3 class="method-title"><code><a href="#//api/name/reload">&ndash;&nbsp;reload</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Force a full reload of all tiles.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)reload</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This will notify the system to flush out all the existing tiles and start reloading from the top.  If everything is cached locally (and the <a href="../Protocols/MaplyTileSource.html">MaplyTileSource</a> objects say so) then this should appear instantly.  If something needs to be fetched or it&rsquo;s taking too long, you&rsquo;ll see these page in from the low to the high level.</p><p>This is good for tile sources, like weather, that need to be refreshed every so often.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/loadedImages:forTile:" title="loadedImages:forTile:"></a>
	<h3 class="method-title"><code><a href="#//api/name/loadedImages:forTile:">&ndash;&nbsp;loadedImages:forTile:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Pass back the loaded image(s) for a given tile.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)loadedImages:(id)<em>images</em> forTile:(MaplyTileID)<em>tileID</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>images</code></th>
						<td><p>Either one of UIImage or MaplyPlaceholderImage.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>tileID</code></th>
						<td><p>The tile we&rsquo;ve loaded.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If the tile source implements startFetchForTile: then we&rsquo;ll expect it to do the asynchronous loading.  When it&rsquo;s done loading an image, it calls this.</p><p>When we&rsquo;re loading just one image per tile, call this with a UIImage or <a href="../Classes/MaplyImageTile.html">MaplyImageTile</a>. If we&rsquo;re expecting multiple images (see: <a href="#//api/name/imageDepth">imageDepth</a>) then pass in a <a href="../Classes/MaplyImageTile.html">MaplyImageTile</a> that&rsquo;s been set up appropriately.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/loadedImages:forTile:frame:" title="loadedImages:forTile:frame:"></a>
	<h3 class="method-title"><code><a href="#//api/name/loadedImages:forTile:frame:">&ndash;&nbsp;loadedImages:forTile:frame:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Pass back the loaded image(s) for a given tile.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)loadedImages:(id)<em>images</em> forTile:(MaplyTileID)<em>tileID</em> frame:(int)<em>frame</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>images</code></th>
						<td><p>Either one of UIImage or MaplyPlaceholderImage.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>tileID</code></th>
						<td><p>The tile we&rsquo;ve loaded.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>frame</code></th>
						<td><p>If we&rsquo;re loading an animation frame by frame, this is the frame ID.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If the tile source implements startFetchForTile: then we&rsquo;ll expect it to do the asynchronous loading.  When it&rsquo;s done loading an image, it calls this.</p><p>When we&rsquo;re loading just one image per tile, call this with a UIImage or <a href="../Classes/MaplyImageTile.html">MaplyImageTile</a>. If we&rsquo;re expecting multiple images (see: <a href="#//api/name/imageDepth">imageDepth</a>) then pass in a <a href="../Classes/MaplyImageTile.html">MaplyImageTile</a> that&rsquo;s been set up appropriately.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/loadError:forTile:" title="loadError:forTile:"></a>
	<h3 class="method-title"><code><a href="#//api/name/loadError:forTile:">&ndash;&nbsp;loadError:forTile:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Pass back an error for a given tile.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)loadError:(NSError *)<em>error</em> forTile:(MaplyTileID)<em>tileID</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If the tile source implements startFetchForTile: then this is how it tells us about a specific failure.</p><p>It can also just call <a href="#//api/name/loadedImages:forTile:">loadedImages:forTile:</a> with nil, but this is more helpful.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/loadError:forTile:frame:" title="loadError:forTile:frame:"></a>
	<h3 class="method-title"><code><a href="#//api/name/loadError:forTile:frame:">&ndash;&nbsp;loadError:forTile:frame:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Pass back an error for a given tile and frame (if we&rsquo;re loading animations).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)loadError:(NSError *)<em>error</em> forTile:(MaplyTileID)<em>tileID</em> frame:(int)<em>frame</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>If the tile source implements startFetchForTile: then this is how it tells us about a specific failure.</p><p>It can also just call <a href="#//api/name/loadedImages:forTile:">loadedImages:forTile:</a> with nil, but this is more helpful.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/loadedFrames" title="loadedFrames"></a>
	<h3 class="method-title"><code><a href="#//api/name/loadedFrames">&ndash;&nbsp;loadedFrames</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Status structures describing which frames are loaded.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSArray *)loadedFrames</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Query this to find out which frames are completely loaded into memory and which are not.</p><p>This queries the underlying control logic and there is no delegate.  It&rsquo;s polling only.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/geoBoundsForTile:bbox:" title="geoBoundsForTile:bbox:"></a>
	<h3 class="method-title"><code><a href="#//api/name/geoBoundsForTile:bbox:">&ndash;&nbsp;geoBoundsForTile:bbox:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Return the bounding box for a given tile.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)geoBoundsForTile:(MaplyTileID)<em>tileID</em> bbox:(MaplyBoundingBox *)<em>bbox</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This calculates the bounding box (in geographic) for the given tile.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/boundsForTile:bbox:" title="boundsForTile:bbox:"></a>
	<h3 class="method-title"><code><a href="#//api/name/boundsForTile:bbox:">&ndash;&nbsp;boundsForTile:bbox:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Return the bounding box for a given tile.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)boundsForTile:(MaplyTileID)<em>tileID</em> bbox:(MaplyBoundingBox *)<em>bbox</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This calculate the bounding box in local coordinates for the given tile.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/reset" title="reset"></a>
	<h3 class="method-title"><code><a href="#//api/name/reset">&ndash;&nbsp;reset</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Do a hard reset of the layer.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)reset</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>This will clean out all the layers resources and force it to start loading again.</p><p>Call this right after you change a tile source.  This lets you change the tile source to something incompatible with the previous one.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyQuadImageTilesLayer.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						<a title="Extension Methods" name="task_Extension Methods"></a>
						<h2 class="task-title">Extension Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/startLayer:scene:renderer:viewC:" title="startLayer:scene:renderer:viewC:"></a>
	<h3 class="method-title"><code><a href="#//api/name/startLayer:scene:renderer:viewC:">&ndash;&nbsp;startLayer:scene:renderer:viewC:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Subclasses fill this in.  It&rsquo;s called when the Component layer is added to the view controller.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (bool)startLayer:(WhirlyKitLayerThread *)<em>layerThread</em> scene:(WhirlyKit : : Scene *)<em>scene</em> renderer:(WhirlyKitSceneRendererES *)<em>renderer</em> viewC:(MaplyBaseViewController *)<em>viewC</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Subclasses fill this in.  It&rsquo;s called when the Component layer is added to the view controller.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyViewControllerLayer_private.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/cleanupLayers:scene:" title="cleanupLayers:scene:"></a>
	<h3 class="method-title"><code><a href="#//api/name/cleanupLayers:scene:">&ndash;&nbsp;cleanupLayers:scene:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Remove resources associated with this layer</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)cleanupLayers:(WhirlyKitLayerThread *)<em>layerThread</em> scene:(WhirlyKit : : Scene *)<em>scene</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Remove resources associated with this layer</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">MaplyViewControllerLayer_private.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2016 mousebird consulting inc. All rights reserved. Updated: 2016-01-31</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>